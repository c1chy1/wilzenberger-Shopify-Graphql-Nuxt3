import "./chunk-BPKF3OQJ.js";

// node_modules/@shopify/theme-images/images.js
function preload(images, size) {
  if (typeof images === "string") {
    images = [images];
  }
  for (let i = 0; i < images.length; i++) {
    const image = images[i];
    loadImage(getSizedImageUrl(image, size));
  }
}
function loadImage(path) {
  new Image().src = path;
}
function imageSize(src) {
  const match = src.match(
    /.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/
  );
  if (match) {
    return match[1];
  } else {
    return null;
  }
}
function getSizedImageUrl(src, size) {
  if (size === null) {
    return src;
  }
  if (size === "master") {
    return removeProtocol(src);
  }
  const match = src.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);
  if (match) {
    const prefix = src.split(match[0]);
    const suffix = match[0];
    return removeProtocol(`${prefix[0]}_${size}${suffix}`);
  } else {
    return null;
  }
}
function removeProtocol(path) {
  return path.replace(/http(s)?:/, "");
}
export {
  getSizedImageUrl,
  imageSize,
  loadImage,
  preload,
  removeProtocol
};
//# sourceMappingURL=@shopify_theme-images.js.map
